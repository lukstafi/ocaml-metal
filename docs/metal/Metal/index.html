<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Metal (metal.Metal)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Index</a> &#x00BB; <a href="../index.html">metal</a> &#x00BB; Metal</nav><header class="odoc-preamble"><h1>Module <code><span>Metal</span></code></h1></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#basic-structures">Basic Structures</a></li><li><a href="#resource-configuration">Resource Configuration</a></li><li><a href="#resources">Resources</a></li><li><a href="#libraries-and-functions">Libraries and Functions</a></li><li><a href="#compute-pipeline">Compute Pipeline</a></li><li><a href="#command-infrastructure">Command Infrastructure</a></li><li><a href="#indirect-command-buffers">Indirect Command Buffers</a></li><li><a href="#synchronization">Synchronization</a></li><li><a href="#dynamic-library-placeholder">Dynamic Library Placeholder</a></li></ul></nav></div><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-debug_msg_send"><a href="#val-debug_msg_send" class="anchor"></a><code><span><span class="keyword">val</span> debug_msg_send : <span><span><span>(<span><span class="label">select</span>:string <span class="arrow">&#45;&gt;</span></span> unit)</span> option</span> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>A debug callback function that will be called for each Objective-C message send. The callback receives the selector name. Set to <code>None</code> to disable debugging.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init_debug_log_to_file"><a href="#val-init_debug_log_to_file" class="anchor"></a><code><span><span class="keyword">val</span> init_debug_log_to_file : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Initialize debug logging to a file. This sets a debug callback that logs timestamps and selectors to the specified file.</p></div></div><h3 id="basic-structures"><a href="#basic-structures" class="anchor"></a>Basic Structures</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Size"><a href="#module-Size" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Size/index.html">Size</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Represents the dimensions of a grid, region, or threadgroup. See <a href="https://developer.apple.com/documentation/metal/mtlsize">MTLSize</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Origin"><a href="#module-Origin" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Origin/index.html">Origin</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Represents the origin of a region in 3D space. See <a href="https://developer.apple.com/documentation/metal/mtlorigin">MTLOrigin</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Region"><a href="#module-Region" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Region/index.html">Region</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Represents a 3D region. See <a href="https://developer.apple.com/documentation/metal/mtlregion">MTLRegion</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Range"><a href="#module-Range" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Range/index.html">Range</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Represents a range with location and length. See <a href="https://developer.apple.com/documentation/foundation/nsrange">NSRange</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Device"><a href="#module-Device" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Device/index.html">Device</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Represents the GPU device capable of executing Metal commands. See <a href="https://developer.apple.com/documentation/metal/mtldevice">MTLDevice</a>.</p></div></div><h3 id="resource-configuration"><a href="#resource-configuration" class="anchor"></a>Resource Configuration</h3><div class="odoc-spec"><div class="spec module anchored" id="module-ResourceOptions"><a href="#module-ResourceOptions" class="anchor"></a><code><span><span class="keyword">module</span> <a href="ResourceOptions/index.html">ResourceOptions</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Options for configuring Metal resources like buffers and textures. See <a href="https://developer.apple.com/documentation/metal/mtlresourceoptions">MTLResourceOptions</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-PipelineOption"><a href="#module-PipelineOption" class="anchor"></a><code><span><span class="keyword">module</span> <a href="PipelineOption/index.html">PipelineOption</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Options controlling pipeline state creation. See <a href="https://developer.apple.com/documentation/metal/mtlpipelineoption">MTLPipelineOption</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-CompileOptions"><a href="#module-CompileOptions" class="anchor"></a><code><span><span class="keyword">module</span> <a href="CompileOptions/index.html">CompileOptions</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Options for compiling Metal Shading Language (MSL) source code. See <a href="https://developer.apple.com/documentation/metal/mtlcompileoptions">MTLCompileOptions</a>.</p></div></div><h3 id="resources"><a href="#resources" class="anchor"></a>Resources</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Resource"><a href="#module-Resource" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Resource/index.html">Resource</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Common interface for Metal resources like buffers and textures. See <a href="https://developer.apple.com/documentation/metal/mtlresource">MTLResource</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Buffer"><a href="#module-Buffer" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Buffer/index.html">Buffer</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Represents a block of untyped memory accessible by the GPU. See <a href="https://developer.apple.com/documentation/metal/mtlbuffer">MTLBuffer</a>.</p></div></div><h3 id="libraries-and-functions"><a href="#libraries-and-functions" class="anchor"></a>Libraries and Functions</h3><div class="odoc-spec"><div class="spec module anchored" id="module-FunctionType"><a href="#module-FunctionType" class="anchor"></a><code><span><span class="keyword">module</span> <a href="FunctionType/index.html">FunctionType</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Identifies the type of a Metal function. See <a href="https://developer.apple.com/documentation/metal/mtlfunctiontype">MTLFunctionType</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Function"><a href="#module-Function" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Function/index.html">Function</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Represents a single, named function (shader or kernel) within a Metal library. See <a href="https://developer.apple.com/documentation/metal/mtlfunction">MTLFunction</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Library"><a href="#module-Library" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Library/index.html">Library</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Represents a compiled Metal library containing one or more functions. See <a href="https://developer.apple.com/documentation/metal/mtllibrary">MTLLibrary</a>.</p></div></div><h3 id="compute-pipeline"><a href="#compute-pipeline" class="anchor"></a>Compute Pipeline</h3><div class="odoc-spec"><div class="spec module anchored" id="module-ComputePipelineDescriptor"><a href="#module-ComputePipelineDescriptor" class="anchor"></a><code><span><span class="keyword">module</span> <a href="ComputePipelineDescriptor/index.html">ComputePipelineDescriptor</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Describes the configuration for creating a compute pipeline state. See <a href="https://developer.apple.com/documentation/metal/mtlcomputepipelinedescriptor">MTLComputePipelineDescriptor</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-ComputePipelineState"><a href="#module-ComputePipelineState" class="anchor"></a><code><span><span class="keyword">module</span> <a href="ComputePipelineState/index.html">ComputePipelineState</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Represents a compiled compute pipeline state object. See <a href="https://developer.apple.com/documentation/metal/mtlcomputepipelinestate">MTLComputePipelineState</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-LogLevel"><a href="#module-LogLevel" class="anchor"></a><code><span><span class="keyword">module</span> <a href="LogLevel/index.html">LogLevel</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Log levels for shader debugging. See <a href="https://developer.apple.com/documentation/metal/mtlloglevel">MTLLogLevel</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-LogStateDescriptor"><a href="#module-LogStateDescriptor" class="anchor"></a><code><span><span class="keyword">module</span> <a href="LogStateDescriptor/index.html">LogStateDescriptor</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Descriptor for configuring shader logging. See <a href="https://developer.apple.com/documentation/metal/mtllogstatedescriptor">MTLLogStateDescriptor</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-LogState"><a href="#module-LogState" class="anchor"></a><code><span><span class="keyword">module</span> <a href="LogState/index.html">LogState</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Container for shader log messages. See <a href="https://developer.apple.com/documentation/metal/mtllogstate">MTLLogState</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-CommandQueueDescriptor"><a href="#module-CommandQueueDescriptor" class="anchor"></a><code><span><span class="keyword">module</span> <a href="CommandQueueDescriptor/index.html">CommandQueueDescriptor</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Configuration for creating command queues. See <a href="https://developer.apple.com/documentation/metal/mtlcommandqueuedescriptor">MTLCommandQueueDescriptor</a>.</p></div></div><h3 id="command-infrastructure"><a href="#command-infrastructure" class="anchor"></a>Command Infrastructure</h3><div class="odoc-spec"><div class="spec module anchored" id="module-CommandQueue"><a href="#module-CommandQueue" class="anchor"></a><code><span><span class="keyword">module</span> <a href="CommandQueue/index.html">CommandQueue</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A queue for submitting command buffers to a device. See <a href="https://developer.apple.com/documentation/metal/mtlcommandqueue">MTLCommandQueue</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Event"><a href="#module-Event" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Event/index.html">Event</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>An object used for GPU-GPU synchronization within a single device. See <a href="https://developer.apple.com/documentation/metal/mtlevent">MTLEvent</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-CommandBuffer"><a href="#module-CommandBuffer" class="anchor"></a><code><span><span class="keyword">module</span> <a href="CommandBuffer/index.html">CommandBuffer</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A container for encoded commands that the GPU executes. See <a href="https://developer.apple.com/documentation/metal/mtlcommandbuffer">MTLCommandBuffer</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-CommandEncoder"><a href="#module-CommandEncoder" class="anchor"></a><code><span><span class="keyword">module</span> <a href="CommandEncoder/index.html">CommandEncoder</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Base protocol for objects that encode commands into a command buffer. See <a href="https://developer.apple.com/documentation/metal/mtlcommandencoder">MTLCommandEncoder</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-ResourceUsage"><a href="#module-ResourceUsage" class="anchor"></a><code><span><span class="keyword">module</span> <a href="ResourceUsage/index.html">ResourceUsage</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Usage flags for resources within a command encoder. See <a href="https://developer.apple.com/documentation/metal/mtlresourceusage">MTLResourceUsage</a>.</p></div></div><h3 id="indirect-command-buffers"><a href="#indirect-command-buffers" class="anchor"></a>Indirect Command Buffers</h3><div class="odoc-spec"><div class="spec module anchored" id="module-IndirectCommandType"><a href="#module-IndirectCommandType" class="anchor"></a><code><span><span class="keyword">module</span> <a href="IndirectCommandType/index.html">IndirectCommandType</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Types of commands that can be encoded into an indirect command buffer. See <a href="https://developer.apple.com/documentation/metal/mtlindirectcommandtype">MTLIndirectCommandType</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-IndirectCommandBufferDescriptor"><a href="#module-IndirectCommandBufferDescriptor" class="anchor"></a><code><span><span class="keyword">module</span> <a href="IndirectCommandBufferDescriptor/index.html">IndirectCommandBufferDescriptor</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Describes the configuration for an indirect command buffer. See <a href="https://developer.apple.com/documentation/metal/mtlindirectcommandbufferdescriptor">MTLIndirectCommandBufferDescriptor</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-IndirectComputeCommand"><a href="#module-IndirectComputeCommand" class="anchor"></a><code><span><span class="keyword">module</span> <a href="IndirectComputeCommand/index.html">IndirectComputeCommand</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Represents a command within an indirect command buffer specific to compute operations. See <a href="https://developer.apple.com/documentation/metal/mtlindirectcomputecommand">MTLIndirectComputeCommand</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-IndirectCommandBuffer"><a href="#module-IndirectCommandBuffer" class="anchor"></a><code><span><span class="keyword">module</span> <a href="IndirectCommandBuffer/index.html">IndirectCommandBuffer</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A buffer containing pre-encoded commands that can be executed efficiently by the GPU. See <a href="https://developer.apple.com/documentation/metal/mtlindirectcommandbuffer">MTLIndirectCommandBuffer</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-ComputeCommandEncoder"><a href="#module-ComputeCommandEncoder" class="anchor"></a><code><span><span class="keyword">module</span> <a href="ComputeCommandEncoder/index.html">ComputeCommandEncoder</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Encodes compute commands. See <a href="https://developer.apple.com/documentation/metal/mtlcomputecommandencoder">MTLComputeCommandEncoder</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Fence"><a href="#module-Fence" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Fence/index.html">Fence</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>An object used for fine-grained resource synchronization within a command encoder. See <a href="https://developer.apple.com/documentation/metal/mtlfence">MTLFence</a>.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-BlitCommandEncoder"><a href="#module-BlitCommandEncoder" class="anchor"></a><code><span><span class="keyword">module</span> <a href="BlitCommandEncoder/index.html">BlitCommandEncoder</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Encodes resource copy and synchronization commands. See <a href="https://developer.apple.com/documentation/metal/mtlblitcommandencoder">MTLBlitCommandEncoder</a>.</p></div></div><h3 id="synchronization"><a href="#synchronization" class="anchor"></a>Synchronization</h3><div class="odoc-spec"><div class="spec module anchored" id="module-SharedEvent"><a href="#module-SharedEvent" class="anchor"></a><code><span><span class="keyword">module</span> <a href="SharedEvent/index.html">SharedEvent</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>An object used for GPU-GPU or CPU-GPU synchronization, potentially across multiple devices or processes. See <a href="https://developer.apple.com/documentation/metal/mtlsharedevent">MTLSharedEvent</a>.</p></div></div><h3 id="dynamic-library-placeholder"><a href="#dynamic-library-placeholder" class="anchor"></a>Dynamic Library Placeholder</h3><div class="odoc-spec"><div class="spec module anchored" id="module-DynamicLibrary"><a href="#module-DynamicLibrary" class="anchor"></a><code><span><span class="keyword">module</span> <a href="DynamicLibrary/index.html">DynamicLibrary</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Represents a dynamically linkable Metal library. Bindings are complex and omitted for now. See <a href="https://developer.apple.com/documentation/metal/mtldynamiclibrary">MTLDynamicLibrary</a>.</p></div></div></div></body></html>
